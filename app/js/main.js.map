{"version":3,"sources":["bodyScrollFunks.js","cartFunks.js","burger.js","cart.js","height.js","instagramSlider.js","map.js","modalSlider.js","noUiSlider.js","products.js","quiz.js","scroll.js","tooltip.js","main.js"],"names":["bodyDisableScroll","pagePosition","window","scrollY","body","classList","add","dataset","position","style","top","bodyEnableScroll","parseInt","document","remove","scroll","left","removeAttribute","normalPrice","str","String","replace","plusFullPrice","currentPrice","price","minusFullPrice","priceWithoutSpaces","printQuantity","count","cartCount","textContent","reOpenCartModal","modal","close","_nextContainer","querySelector","setTimeout","open","burgerIcon","menu","addEventListener","innerWidth","toggle","contains","modalActive","cartWrapper","e","target","topCartList","bottomCartWindow","num","infoOrderComposition","cartBtn","infoOrderList","quantityOrders","priceOrders","cartLogic","addToCartBtn","querySelectorAll","forEach","el","id","currentTarget","loadCartData","fetch","then","response","json","data","dataItem","console","log","insertAdjacentHTML","mainImage","title","item","innerHTML","closest","self","parent","fullPrice","removePrice","stopPropagation","orderAccordion","deleteElement","windowHeightForMobile","vh","innerHeight","documentElement","setProperty","instSliderInit","instSlider","Swiper","slidesPerView","effect","speed","observer","autoHeight","loop","spaceBetween","autoplay","delay","instSliderDestroy","destroy","mediaQuerySize","screen","width","windowWidth","ymaps","ready","init","myMap","Map","center","zoom","myGeoObject","GeoObject","geometry","type","coordinates","geoObjects","productSubSlider","breakpoints","productMainSlider","thumbs","swiper","slider","getElementById","priceStart","priceEnd","prices","setPriceValues","priceStartValue","priceEndValue","value","noUiSlider","set","create","start","connect","range","step","select","on","values","handle","Math","round","catalogList","catalogMore","productModal","mainProdSlider","subProdSlider","productTitle","productSizes","productPrices","productDescr","productChars","productVideo","prodQuantity","dataLength","loadProducts","quantity","length","i","Modal","isOpen","modalContainer","parentElement","openBtnId","activeBtnId","loadModalData","cart","isClose","mainSlides","gallery","map","image","subSlides","sizes","charsItems","Object","keys","chars","eachKey","key","join","oldPrice","description","video","display","quizData","number","answer_alias","answers","answer_title","quizTemplate","options","prevBtnText","nextBtnText","Quiz","selector","$el","counter","resultArray","tmp","events","removeToSend","prevQuestion","valid","addToSend","nextQuestion","send","tagName","elements","sibling","nextElementSibling","checked","element","serialize","quizOffset","offsetTop","isValid","textarea","removeElement","pop","push","name","email","Name","newData","entries","arr","obj","reduce","newObj","index","formData","FormData","append","substring","form","field","s","valueString","nodeName","len","disabled","j","selected","encodeURIComponent","quiz","catalog","about","team","faq","contacts","scrollToTargetAdjusted","headerOffset","elementPosition","getBoundingClientRect","offsetPosition","pageYOffset","modalActiveContainer","className","paddingRight","test","navigator","userAgent","scrollTo","behavior","hasAttribute","preventDefault","tooltip"],"mappings":"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","file":"main.js","sourcesContent":["function bodyDisableScroll () {\r\n\tlet pagePosition = window.scrollY;//Текущее положение скролла\r\n\tbody.classList.add('disable-scroll');\r\n\tbody.dataset.position = pagePosition;//<body data-position=\"\">\r\n\tbody.style.top = -pagePosition + 'px';\r\n};\r\n\r\nfunction bodyEnableScroll () {\r\n\tlet pagePosition = parseInt(document.body.dataset.position, 10);//в переменной числовое значение\r\n\tbody.style.top = null;\r\n\tbody.classList.remove('disable-scroll');\r\n\twindow.scroll({\r\n\t\ttop: pagePosition,\r\n\t\tleft: 0\r\n\t});\r\n\tbody.removeAttribute('data-position');\r\n\r\n};","/*Функция добавляет пробелы между разрядами числа*/\r\nconst normalPrice = (str) => {\r\n  return String(str).replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ')\r\n}\r\n\r\n/*Суммирует цену товаров*/\r\nconst plusFullPrice = (currentPrice) => {\r\n  return (price += currentPrice)\r\n}\r\n\r\n/*Вычитает цену товаров*/\r\nconst minusFullPrice = (currentPrice) => {\r\n  return (price -= currentPrice)\r\n}\r\n\r\n/*Убирает пробелы*/\r\nconst priceWithoutSpaces = (str) => {\r\n  return str.replace(/\\s/g, '')\r\n}\r\n\r\n// const printFullPrice = () => {\r\n// \tfullPrice.textContent = `${normalPrice(price)} ₽`;\r\n// };\r\n\r\nconst printQuantity = (count) => {\r\n  cartCount.textContent = count\r\n}\r\n\r\nconst reOpenCartModal = () => {\r\n  modal.close()\r\n  modal._nextContainer = document.querySelector(`[data-target=\"cart-modal\"]`)\r\n  setTimeout(() => modal.open(), 1000)\r\n}\r\n","let burgerIcon = document.querySelector('.icon-menu');\r\nlet menu = document.querySelector('.header__nav');\r\nlet body = document.querySelector('body');\r\n\r\nburgerIcon.addEventListener(\"click\", function() {\r\n\tif (window.innerWidth > 510) {\r\n\t\tburgerIcon.classList.toggle('_active');\r\n\t\tmenu.classList.toggle('_active');\r\n\t\tif (!body.classList.contains('disable-scroll')) {\r\n\t\t\tbodyDisableScroll ();\r\n\t\t} \telse if (!document.querySelector('.modal').classList.contains('is-open')) {\r\n\t\t\t\tbodyEnableScroll ();\r\n\t\t\t}\r\n\r\n\t\t} \telse {\r\n\t\tlet modalActive = document.querySelector('.modal.is-open');\r\n\t\t\r\n\t\tif (cartWrapper.classList.contains('_open') && body.classList.contains('disable-scroll')) {\r\n\t\t\tcartWrapper.classList.remove('_open');\r\n\t\t\tburgerIcon.classList.add('_active');\r\n\t\t\tmenu.classList.add('_active');\r\n\t\t} else {\r\n\t\t\tburgerIcon.classList.toggle('_active');\r\n\t\t\tmenu.classList.toggle('_active');\r\n\t\t\t\r\n\t\t\tif (burgerIcon.classList.contains('_active') && !modalActive) {\r\n\t\t\t\tbodyDisableScroll ();\r\n\r\n\t\t\t}\telse if (!modalActive) {\r\n\t\t\t\t\tbodyEnableScroll ();\r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nmenu.addEventListener(\"click\", function(e) {\r\n\tif (menu.classList.contains('_active')) {\r\n\t\tif (e.target.classList.contains('header__link')) {\r\n\t\t\tburgerIcon.classList.toggle('_active');\r\n\t\t\tmenu.classList.toggle('_active');\r\n\t\t\tif (!burgerIcon.classList.contains('_active')) {\r\n\t\t\t\tbodyEnableScroll ();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n","const topCartList = document.querySelector('.top-cart__list')\r\nconst cartCount = document.querySelector('.cart-header__btn-count')\r\nconst bottomCartWindow = document.querySelector('.window-cart__bottom')\r\nlet price = 0\r\nlet num = 0 //Число товаров в корзине\r\n\r\nconst infoOrderComposition = document.querySelector('.info-order__composition')\r\nconst cartBtn = document.querySelector('.cart-header__btn')\r\nconst cartWrapper = document.querySelector('.cart-header__wrapper')\r\nconst infoOrderList = document.querySelector('.info-order__list')\r\nconst quantityOrders = document.querySelector(\r\n  '.info-order__element._quantity span'\r\n)\r\nconst priceOrders = document.querySelector('.info-order__element._summ span')\r\n\r\n//Работа корзины\r\nconst cartLogic = () => {\r\n  const addToCartBtn = document.querySelectorAll('.add-to-cart-btn')\r\n  addToCartBtn.forEach((el) => {\r\n    el.addEventListener('click', (e) => {\r\n      const id = e.currentTarget.dataset.id //получаем id кликнутого элимента\r\n      loadCartData(id)\r\n    })\r\n  })\r\n}\r\n\r\nconst loadCartData = (id = 1) => {\r\n  fetch('../../data/data.json')\r\n    .then((response) => {\r\n      return response.json() //преобразует json в js\r\n    })\r\n    .then((data) => {\r\n      for (let dataItem of data) {\r\n        if (dataItem.id == id) {\r\n          console.log(dataItem)\r\n          topCartList.insertAdjacentHTML(\r\n            'afterbegin',\r\n            `\r\n\t\t\t\t\t<li class=\"cart-product__item\" data-id=\"${dataItem.id}\">\r\n\t\t\t\t\t\t<article class=\"cart-product\">\r\n\t\t\t\t\t\t\t<div class=\"cart-product__img\">\r\n\t\t\t\t\t\t\t\t<img src=\"${dataItem.mainImage}\" alt=\"${dataItem.title}\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"cart-product__wrapper\">\r\n\t\t\t\t\t\t\t\t<h3 class=\"cart-product__title\">${dataItem.title}</h3>\r\n\t\t\t\t\t\t\t\t<div class=\"cart-product__price\">${normalPrice(dataItem.price)} ₽</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button class=\"btn-reset cart-product__trash\">\r\n\t\t\t\t\t\t\t\t<svg>\r\n\t\t\t\t\t\t\t\t\t<use xlink:href=\"img/sprite.svg#trash\"></use>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</article>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t`\r\n          )\r\n          return dataItem\r\n        }\r\n      }\r\n    })\r\n    .then((item) => {\r\n      num++\r\n      if (num > 0) {\r\n        cartCount.classList.add('_visible')\r\n        printQuantity(num)\r\n        plusFullPrice(item.price)\r\n        bottomCartWindow.innerHTML = `\r\n\t\t\t\t<div class=\"bottom-cart__final-price\">\r\n\t\t\t\t\t<span class=\"bottom-cart__text\">Итого:</span>\r\n\t\t\t\t\t<span class=\"bottom-cart__price\">${normalPrice(price)} ₽</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button class=\"btn-reset bottom-cart__btn btn\" data-path=\"cart-modal\">Перейти к оформлению</button>\r\n\t\t\t`\r\n      }\r\n    })\r\n}\r\n\r\ncartBtn.addEventListener('click', (e) => {\r\n  let modalActive = document.querySelector('.modal.is-open')\r\n  cartWrapper.classList.toggle('_open')\r\n  if (window.innerWidth <= 510) {\r\n    if (burgerIcon.classList.contains('_active')) {\r\n      //Если меню-бургер открыто, то закрываю его\r\n      burgerIcon.classList.remove('_active')\r\n      menu.classList.remove('_active')\r\n    } else if (!modalActive) {\r\n      //Если модалка закрыта\r\n      if (cartWrapper.classList.contains('_open')) {\r\n        bodyDisableScroll()\r\n      } else {\r\n        bodyEnableScroll()\r\n      }\r\n    }\r\n  }\r\n})\r\n\r\ndocument.addEventListener('click', (e) => {\r\n  if (window.innerWidth > 767.98) {\r\n    if (\r\n      !e.target.closest('.cart-header__btn') &&\r\n      !e.target.closest('.cart-header__wrapper') &&\r\n      !e.target.closest('.product__button') &&\r\n      !e.target.classList.contains('content-catalog__btn') &&\r\n      !document.querySelector('.modal').classList.contains('is-open')\r\n    ) {\r\n      cartWrapper.classList.remove('_open') //корзина не закрывается, когда модалка открыта\r\n    }\r\n  } else if (window.innerWidth > 510) {\r\n    if (\r\n      !e.target.closest('.cart-header__btn') &&\r\n      !e.target.closest('.cart-header__wrapper') &&\r\n      !e.target.closest('.product__button') &&\r\n      !e.target.classList.contains('content-catalog__btn') &&\r\n      !document.querySelector('.modal').classList.contains('_cart')\r\n    ) {\r\n      cartWrapper.classList.remove('_open') //корзина закрывается, когда модалка на всю ширину\r\n    }\r\n  }\r\n})\r\n\r\ntopCartList.addEventListener('click', (e) => {\r\n  const self = e.target\r\n  if (self.closest('.cart-product__trash')) {\r\n    const parent = self.closest('.cart-product__item')\r\n    const fullPrice = document.querySelector('.bottom-cart__price')\r\n    /*Находим цену удаляемого из корзины товара и переводим ее в числовой вид без пробелов*/\r\n    let removePrice = parseInt(\r\n      priceWithoutSpaces(\r\n        parent.querySelector('.cart-product__price').textContent\r\n      )\r\n    )\r\n    console.log(removePrice)\r\n\r\n    e.stopPropagation()\r\n    parent.remove()\r\n    minusFullPrice(removePrice)\r\n    fullPrice.textContent = `${normalPrice(price)} ₽`\r\n    // printFullPrice();\r\n    num--\r\n    if (num < 1) {\r\n      cartCount.classList.remove('_visible')\r\n      bottomCartWindow.innerHTML = `\r\n\t\t\t\t<h3 class=\"bottom-cart__empty\">В корзине нет товаров</h3>\r\n\t\t\t\t<svg>\r\n\t\t\t\t\t<use xlink:href=\"img/sprite.svg#sad\"></use>\r\n\t\t\t\t</svg>\r\n\t\t\t`\r\n    } else {\r\n      printQuantity(num)\r\n    }\r\n  }\r\n})\r\n\r\ncartWrapper.addEventListener('click', (e) => {\r\n  if (e.target.classList.contains('bottom-cart__btn')) {\r\n    infoOrderList.innerHTML = topCartList.innerHTML\r\n    quantityOrders.textContent = `${num} шт`\r\n    priceOrders.textContent = document.querySelector(\r\n      '.bottom-cart__price'\r\n    ).textContent\r\n\r\n    if (!infoOrderComposition.classList.contains('_open', '_is-open')) {\r\n      infoOrderComposition.classList.add('_open')\r\n      setTimeout(() => orderAccordion.open())\r\n      //без setTimeout не работает scrollHeight, чтбы вычислить высоту элемента для плавного скрытия\r\n    }\r\n  }\r\n})\r\n\r\ninfoOrderList.addEventListener('click', (e) => {\r\n  if (e.target.classList.contains('cart-product__trash')) {\r\n    let target = e.target\r\n    const deleteElement = target.closest('.cart-product__item')\r\n    let removePrice = parseInt(\r\n      priceWithoutSpaces(\r\n        deleteElement.querySelector('.cart-product__price').textContent\r\n      )\r\n    )\r\n    e.stopPropagation() //Без этого при удалении элемента закрывается модалка.\r\n    deleteElement.remove()\r\n\r\n    num -= 1\r\n    if (num > 0) {\r\n      quantityOrders.textContent = `${num} шт`\r\n      minusFullPrice(removePrice)\r\n      priceOrders.textContent = `${normalPrice(price)} ₽`\r\n    } else {\r\n      modal.close()\r\n      minusFullPrice(removePrice)\r\n      cartCount.classList.remove('_visible')\r\n      topCartList.innerHTML = ''\r\n      bottomCartWindow.innerHTML = `\r\n\t\t\t\t<h3 class=\"bottom-cart__empty\">В корзине нет товаров</h3>\r\n\t\t\t\t<svg>\r\n\t\t\t\t\t<use xlink:href=\"img/sprite.svg#sad\"></use>\r\n\t\t\t\t</svg>\r\n\t\t\t`\r\n    }\r\n  }\r\n})\r\n","//vh некорректно работает в мобильных браузерах \r\nfunction windowHeightForMobile () {\r\n\tlet vh = window.innerHeight * 0.01;\r\n\t// Then we set the value in the --vh custom property to the root of the document\r\n\tdocument.documentElement.style.setProperty('--vh', `${vh}px`);\r\n};\r\n\r\nif (window.innerWidth <= 510) {\r\n\twindowHeightForMobile ();\r\n\twindow.addEventListener('resize', () => {\r\n\t\twindowHeightForMobile ();\r\n\t});\r\n}","if (document.querySelector('.right-instagram__swiper')) {\r\n\r\n\tlet instSlider = null;\r\n\tlet mediaQuerySize = 767.98;\r\n\t\r\n\tfunction instSliderInit () {\r\n\t  \tif (!instSlider) {\r\n\t   \tinstSlider = new Swiper('.right-instagram__swiper', {\r\n\t   \t  \tslidesPerView: 1,\r\n\t   \t  \teffect: 'fade',\r\n\t\t\t\tspeed: 700,\r\n\t\t\t\tobserver: true,\r\n\t\t\t\tautoHeight: true,\r\n\t\t\t\tloop: true,\r\n\t\t\t\tspaceBetween: 15,\r\n\t\t\t\tautoplay: {\r\n\t   \t\t\tdelay: 3000\r\n\t \t\t\t}\r\n\t   \t});\r\n\t  \t}\r\n\t};\r\n\t\r\n\tfunction instSliderDestroy () {\r\n\t  \tif (instSlider) {\r\n\t   \tinstSlider.destroy();\r\n\t   \tinstSlider = null;\r\n\t  \t}\r\n\t};\r\n\r\n\tif (screen.width <= mediaQuerySize) {\r\n\t\tinstSliderInit ();\r\n\t} else {\r\n\t\tinstSliderDestroy();\r\n\t}\r\n\t\r\n\twindow.addEventListener('resize', function(e) {\r\n\t\tlet windowWidth = screen.width;\r\n\t\r\n\t\tif (windowWidth <= mediaQuerySize) {\r\n\t    // Инициализировать слайдер если он ещё не был инициализирован\r\n\t    instSliderInit();\r\n\t  } else {\r\n\t    // Уничтожить слайдер если он был инициализирован\r\n\t    instSliderDestroy();\r\n\t  }\r\n\t}, true);\r\n}","// Функция ymaps.ready() будет вызвана, когда\r\n// загрузятся все компоненты API, а также когда будет готово DOM-дерево.\r\nymaps.ready(init);\r\nfunction init() {\r\n    // Создание карты.\r\n    var myMap = new ymaps.Map(\"map\", {\r\n        // Координаты центра карты.\r\n        // Порядок по умолчанию: «широта, долгота».\r\n        // Чтобы не определять координаты центра карты вручную,\r\n        // воспользуйтесь инструментом Определение координат.\r\n        center: [59.939096, 30.315871],\r\n        // Уровень масштабирования. Допустимые значения:\r\n        // от 0 (весь мир) до 19.\r\n        zoom: 11\r\n    });\r\n\r\n    var myGeoObject = new ymaps.GeoObject({\r\n        geometry: {\r\n            type: \"Point\",\r\n            coordinates: [59.903210, 30.511746]\r\n        }\r\n    });\r\n    myMap.geoObjects.add(myGeoObject);\r\n}","if (document.querySelector('.item-left__mainslider', '.item-left__subslider')) {\r\n\tlet productSubSlider = new Swiper('.item-left__subslider', {\r\n\t\tslidesPerView: 3,\r\n\t\tspeed: 700,\r\n\t\tobserver: true,\r\n\t\tbreakpoints: {\r\n    \t\t// when window width is >= 600px\r\n    \t\t400: {\r\n    \t\t  slidesPerView: 4,\r\n    \t\t  // spaceBetween: 20\r\n    \t\t},\r\n    \t\t600: {\r\n    \t\t  slidesPerView: 6,\r\n    \t\t  // spaceBetween: 20\r\n    \t\t}\r\n   \t}\r\n\t});\r\n\r\n\tlet productMainSlider = new Swiper('.item-left__mainslider', {\r\n\t\tslidesPerView: 1,\r\n\t\tspeed: 700,\r\n\t\tthumbs: {\r\n\t\t\tswiper: productSubSlider\r\n\t\t},\r\n\t\tobserver: true\r\n\t});\r\n}","var slider = document.getElementById('slider');\r\nvar priceStart = document.getElementById('price-start');\r\nvar priceEnd = document.getElementById('price-end');\r\nvar prices = [\r\n    document.getElementById('price-start'),\r\n    document.getElementById('price-end')\r\n\t];\r\n\r\nif (slider) {\r\n\tnoUiSlider.create(slider, {\r\n\t   start: [1850, 25768],\r\n\t   connect: true,\r\n\t   range: {\r\n\t      'min': 1850,\r\n\t      'max': 25768\r\n\t   },\r\n\t   step: 10\r\n\t});\r\n\r\n\tpriceStart.addEventListener(\"click\", function(e) {\r\n\t\tpriceStart.select();\r\n\t});\r\n\tpriceEnd.addEventListener(\"click\", function(e) {\r\n\t\tpriceEnd.select();\r\n\t});\r\n\t\r\n\tpriceStart.addEventListener('change', setPriceValues);\r\n\tpriceEnd.addEventListener('change', setPriceValues);\r\n\t\r\n\tfunction setPriceValues() {\r\n\t\tlet priceStartValue;\r\n\t\tlet priceEndValue;\r\n\t\tif (priceStart.value != '') {\r\n\t\t\tpriceStartValue = priceStart.value;\r\n\t\t}\r\n\t\tif (priceEnd.value != '') {\r\n\t\t\tpriceEndValue = priceEnd.value;\r\n\t\t}\r\n\t\tslider.noUiSlider.set([priceStartValue, priceEndValue]);\r\n\t}\r\n\r\n\tslider.noUiSlider.on('update', function (values, handle) {\r\n    \tprices[handle].value = Math.round(values[handle]);\r\n\t});\r\n}\r\n\r\n\r\n","const catalogList = document.querySelector('.content-catalog__list')\r\nconst catalogMore = document.querySelector('.content-catalog__btn') //показать еще\r\nconst productModal = document.querySelector(\r\n  '[data-target=\"product-modal\"] .modal-content'\r\n) //находим содержимое модалки с помощью дата-атрибута\r\n\r\nconst mainProdSlider = document.querySelector(\r\n  '.item-left__mainslider .swiper-wrapper'\r\n)\r\nconst subProdSlider = document.querySelector(\r\n  '.item-left__subslider .swiper-wrapper'\r\n)\r\nconst productTitle = document.querySelector('.item-right__title')\r\nconst productSizes = document.querySelector('.sizes__numbers')\r\nconst productPrices = document.querySelector('.item-right__prices')\r\nconst productDescr = document.querySelector('.product-description')\r\nconst productChars = document.querySelector('.product-chars')\r\nconst productVideo = document.querySelector('.product-modal__video')\r\n\r\nlet prodQuantity = 6 //число товаров по умолчанию\r\nlet dataLength = null //в этой переменной будет храниться общее число товаров\r\n\r\nif (catalogList) {\r\n  const loadProducts = (quantity = 8) => {\r\n    fetch('../../data/data.json')\r\n      .then((response) => {\r\n        return response.json() //преобразует json в js\r\n      })\r\n      .then((data) => {\r\n        console.log(data)\r\n\r\n        dataLength = data.length\r\n\r\n        catalogList.innerHTML = ''\r\n\r\n        for (let i = 0; i < dataLength; i++) {\r\n          if (i < quantity) {\r\n            let item = data[i]\r\n            // console.log(item);\r\n            catalogList.innerHTML += `\r\n\t\t\t\t\t\t<li class=\"content-catalog__item\">\r\n\t\t\t\t\t\t\t<article class=\"product\">\r\n\t\t\t\t\t\t\t\t<div class=\"product__image\" tabindex=\"${item.id}\">\r\n\t\t\t\t\t\t\t\t\t<img src=\"${item.mainImage}\" alt=\"${item.title}\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"product__btns\">\r\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn-reset product__button open-modal-btn\" data-id=\"${\r\n                      item.id\r\n                    }\" data-path=\"product-modal\" data-animation=\"fadeInUp\" data-speed=\"500\" aria-label=\"Показать информацию о товаре\">\r\n\t\t\t\t\t\t\t\t\t\t\t<svg>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<use xlink:href=\"img/sprite.svg#view\"></use>\r\n\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn-reset product__button add-to-cart-btn\" data-id=\"${\r\n                      item.id\r\n                    }\" aria-label=\"Добавить товар в корзину\">\r\n\t\t\t\t\t\t\t\t\t\t\t<svg>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<use xlink:href=\"img/sprite.svg#catalog-cart\"></use>\r\n\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<h3 class=\"product__title\">${item.title}</h3>\r\n\t\t\t\t\t\t\t\t<span class=\"product__price\">${normalPrice(item.price)} р</span>\r\n\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t`\r\n            // console.log(item);\r\n          }\r\n        }\r\n        cartLogic() //cart.js\r\n      })\r\n  }\r\n\r\n  loadProducts(prodQuantity)\r\n\r\n  const modal = new Modal({\r\n    isOpen: (modal) => {\r\n      console.log('opened')\r\n\r\n      if (modal.modalContainer.classList.contains('product-modal')) {\r\n        modal.modalContainer.parentElement.classList.add('_product')\r\n\r\n        console.log(modal)\r\n\r\n        // const openBtnId = modal.previousActiveElement.dataset.id не работает в safari\r\n\r\n        const openBtnId = modal.activeBtnId //значение data-id кликнутого элемента\r\n\r\n        console.log(openBtnId)\r\n\r\n        loadModalData(openBtnId)\r\n      }\r\n\r\n      if (modal.modalContainer.classList.contains('cart-modal')) {\r\n        modal.modalContainer.parentElement.classList.add('_cart')\r\n\r\n        if (window.innerWidth <= 670) {\r\n          let cart = document.querySelector('.header__cart')\r\n          document\r\n            .querySelector('.cart-header__wrapper')\r\n            .classList.remove('_open')\r\n          cart.classList.add('_hidden')\r\n\r\n          // cart.style.display = 'none';\r\n        }\r\n      }\r\n    },\r\n    isClose: (modal) => {\r\n      if (modal.modalContainer.classList.contains('cart-modal')) {\r\n        modal.modalContainer.parentElement.classList.remove('_cart')\r\n\r\n        if (infoOrderComposition.classList.contains('_open', '_is-open')) {\r\n          infoOrderComposition.classList.remove('_open')\r\n          orderAccordion.close()\r\n        }\r\n\r\n        if (num > 0) {\r\n          printQuantity(num)\r\n          topCartList.innerHTML = infoOrderList.innerHTML\r\n          document.querySelector('.bottom-cart__price').textContent =\r\n            document.querySelector(\r\n              '.info-order__element._summ span'\r\n            ).textContent\r\n        }\r\n\r\n        let cart = document.querySelector('.header__cart')\r\n        cart.classList.remove('_hidden')\r\n        // cart.style.display = 'block';\r\n      }\r\n\r\n      // productModal.innerHTML = '';//очищаем модалку перед загрузкой новых данных\r\n      // productMainSlider.activeIndex = 0;\r\n      if (modal.modalContainer.classList.contains('product-modal')) {\r\n        mainProdSlider.innerHTML = ''\r\n        subProdSlider.innerHTML = ''\r\n        productTitle.innerHTML = ''\r\n        productSizes.innerHTML = ''\r\n        productPrices.innerHTML = ''\r\n        productDescr.innerHTML = ''\r\n        productChars.innerHTML = ''\r\n        productVideo.innerHTML = ''\r\n        if (window.innerWidth <= 767.98) {\r\n          modal.modalContainer.parentElement.classList.remove('_product')\r\n        }\r\n      }\r\n\r\n      console.log('closed')\r\n    },\r\n  })\r\n\r\n  const loadModalData = (id = 1) => {\r\n    fetch('../../data/data.json')\r\n      .then((response) => {\r\n        return response.json() //преобразует json в js\r\n      })\r\n      .then((data) => {\r\n        // // productModal.innerHTML = '';//очищаем модалку перед загрузкой новых данных\r\n        // mainProdSlider.innerHTML = '';\r\n        // subProdSlider.innerHTML = '';\r\n        // productTitle.innerHTML = '';\r\n        // productSizes.innerHTML = '';\r\n        // productPrices.innerHTML = '';\r\n        // productDescr.innerHTML = '';\r\n        // productChars.innerHTML = '';\r\n        // productVideo.innerHTML = '';\r\n\r\n        for (let dataItem of data) {\r\n          if (dataItem.id == id) {\r\n            console.log(dataItem)\r\n\r\n            const mainSlides = dataItem.gallery.map((image) => {\r\n              return `\r\n\t\t\t\t\t\t\t<div class=\"item-left__mainslide swiper-slide\">\r\n\t\t\t\t\t\t\t\t<img src=\"${image}\" alt=\"\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t`\r\n            })\r\n\r\n            const subSlides = dataItem.gallery.map((image) => {\r\n              return `\r\n\t\t\t\t\t\t\t<div class=\"item-left__subslide swiper-slide\">\r\n\t\t\t\t\t\t\t\t<img src=\"${image}\" alt=\"\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t`\r\n            })\r\n\r\n            const sizes = dataItem.sizes.map((sizes) => {\r\n              return `\r\n\t\t\t\t\t\t\t<button class=\"btn-reset sizes__number\">${sizes}</button>\r\n\t\t\t\t\t\t`\r\n            })\r\n\r\n            let charsItems = ''\r\n            Object.keys(dataItem.chars).forEach(function eachKey(key) {\r\n              charsItems += `<p class=\"property-modal__text\">${key}: ${dataItem.chars[key]}</p>`\r\n            })\r\n\r\n            mainProdSlider.innerHTML = mainSlides.join('')\r\n            subProdSlider.innerHTML = subSlides.join('')\r\n            productTitle.innerHTML = dataItem.title\r\n            productSizes.innerHTML = sizes.join('')\r\n            productPrices.innerHTML = `\r\n\t\t\t\t\t\t<span class=\"item-right__price\">${dataItem.price}</span>\r\n\t\t\t\t\t\t${\r\n              dataItem.oldPrice\r\n                ? `<span class=\"item-right__old-price\">${dataItem.oldPrice}</span>`\r\n                : ''\r\n            }\r\n\t\t\t\t\t`\r\n            productDescr.textContent = dataItem.description\r\n            productChars.innerHTML = charsItems\r\n            if (dataItem.video) {\r\n              productVideo.style.display = 'block'\r\n              productVideo.innerHTML = `<iframe src=\"${dataItem.video}\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>`\r\n            } else {\r\n              productVideo.style.display = 'none'\r\n            }\r\n          }\r\n        }\r\n      })\r\n  }\r\n\r\n  catalogMore.addEventListener('click', (e) => {\r\n    prodQuantity = prodQuantity + 3\r\n    loadProducts(prodQuantity)\r\n\r\n    if (prodQuantity >= dataLength) {\r\n      setTimeout(() => {\r\n        catalogMore.style.display = 'none'\r\n      }, 100)\r\n    }\r\n  })\r\n}\r\n","/*\r\n1. Вывести квиз на страницу;\r\n2. Обработчики кликов на кнопки;\r\n3. Переход к следующему вопросу;\r\n4. Валидация (нельзя не заполнить какое-то поле);\r\n5. Добавление к отправке;\r\n5.1 Сбор данных;\r\n6. Отправка данных.\r\n*/\r\n\r\nconst quizData = [{//Массив объектов\r\n\tnumber: 1,\r\n\ttitle: \"Какой тип обуви рассматриваете?\",\r\n\tanswer_alias: \"type of shoes\",\r\n\tanswers: [{\r\n\t\t\tanswer_title: \"кеды\",\r\n\t\t\ttype: \"checkbox\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tanswer_title: \"кроссовки\",\r\n\t\t\ttype: \"checkbox\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tanswer_title: \"сланцы\",\r\n\t\t\ttype: \"checkbox\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tanswer_title: \"берцы\",\r\n\t\t\ttype: \"checkbox\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tanswer_title: \"говнотопы\",\r\n\t\t\ttype: \"checkbox\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tanswer_title: \"Зимняя обувь\",\r\n\t\t\ttype: \"checkbox\"\r\n\t\t}\r\n\t]\r\n},\r\n{\r\n\tnumber: 2,\r\n\ttitle: \"Какой размер вам подойдет?\",\r\n\tanswer_alias: \"size\",\r\n\tanswers: [{\r\n\t\t\tanswer_title: \"менее 36\",\r\n\t\t\ttype: \"radio\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tanswer_title: \"36-38\",\r\n\t\t\ttype: \"radio\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tanswer_title: \"39-41\",\r\n\t\t\ttype: \"radio\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tanswer_title: \"42-44\",\r\n\t\t\ttype: \"radio\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tanswer_title: \"45 и больше\",\r\n\t\t\ttype: \"radio\"\r\n\t\t}\r\n\t]\r\n},\r\n{\r\n\tnumber: 3,\r\n\ttitle: \"Уточните какие-либо моменты\",\r\n\tanswer_alias: \"comments\",\r\n\tanswers: [{\r\n\t\tanswer_title: \"Введите сообщение\",\r\n\t\ttype: \"textarea\"\r\n\t}]\r\n}\r\n];\r\n\r\n//console.log(quizData.length);\r\n\r\n\r\n\r\n\r\n\r\nconst quizTemplate = (data = [], dataLength, options) => {\r\n\r\n\tconst {number, title} = data; //Достали number и title из data\r\n\tconst{prevBtnText, nextBtnText} = options;\r\n\r\n\t//Выводим ответы\r\n\t//map - метод массива, с помощью которого можно вызвать функцию, обработать ее и вывести\r\n\t//Создаем переменную item\r\n\tconst answers = data.answers.map(item => {\r\n\t\t//Выводим разметку\r\n\t\tif (number === 1) {\r\n\t\t\treturn `\r\n\t\t\t<li>\r\n\t\t\t\t<label class=\"form-question__label\">\r\n\t\t\t\t\t<div class=\"form-question__img\">\r\n\t\t\t\t\t\t<img src=\"../img/sneak01.jpg\" alt=\"\">\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t\t<input type=\"${item.type}\" data-valid=\"false\" class=\"form-question__answer ${item.type !== 'text' ? \"checkbox\" : ''}\" name=\"${data.answer_alias}\" ${item.type == 'text' ? 'placeholder=\"Введите Ваш вариант\"' : ''} value=\"${item.type !== 'text' ? item.answer_title : ''}\">\r\n\t\t\t\t\t<span class=\"${item.type !== 'text' ? \"checkbox__text\" : ''}\">${item.answer_title}</span>\r\n\t\t\t\t</label>\r\n\t\t\t</li>\r\n\t\t\t`;\r\n\t\t}\r\n\t\tif (number === 2) {\r\n\t\t\treturn `\r\n\t\t\t<li>\r\n\t\t\t\t<label class=\"form-question__label\">\t\r\n\t\t\t\t\t<input type=\"${item.type}\" data-valid=\"false\" class=\"form-question__answer ${item.type !== 'text' ? \"checkbox\" : ''}\" name=\"${data.answer_alias}\" ${item.type == 'text' ? 'placeholder=\"Введите Ваш вариант\"' : ''} value=\"${item.type !== 'text' ? item.answer_title : ''}\">\r\n\t\t\t\t\t<span class=\"${item.type !== 'text' ? \"checkbox__text\" : ''}\">${item.answer_title}</span>\r\n\t\t\t\t</label>\r\n\t\t\t</li>\r\n\t\t\t`;\r\n\t\t}\r\n\t\tif (item.type === \"textarea\") {\r\n\t\t\treturn `\r\n\t\t\t\t<textarea class=\"form-question__textarea\" name=\"${data.answer_alias}\" placeholder=\"${item.answer_title}\"></textarea>\r\n\t\t\t`;\r\n\t\t}\r\n\r\n\t\t// data-valid=\"false\" - для того, чтобы понять валидное поле или нет (ввели что-то или нет)\r\n\t\t// ${item.type == 'text' ? 'placeholder=\"Введите Ваш вариант\"' : '' - Если тип текст, то придумываем placeholder, если не текст, то placeholder не пишем\r\n\t});\r\n\r\n\tif (number !== 3) {\r\n\t\treturn ` \r\n\t\t\t<div class=\"quiz-form__question form-question\">\r\n\t\t\t\t<h2 class=\"form-question__title\">${title}</h2>\r\n\t\t\t\t<ul class=\"form-question__answers ${number === 2 ? \"_flex\" : ''}\">\r\n\t\t\t\t\t${answers.join('')}\r\n\t\t\t\t</ul>\r\n\t\t\t\t<div class=\"form-question__bg\" style=\"${number === 2 ? \"display: block;\" : \"display: none;\"}\">\r\n\t\t\t\t\t<img src=\"../img/quiz-bg.jpg\" alt=\"\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"form-question__bottom\">\r\n\t\t\t\t\t<div class=\"quiz-form__questions\">${number} из ${dataLength}</div>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn-reset form-question__btn btn\" data-prev-btn>${prevBtnText}</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn-reset form-question__btn btn\" data-next-btn>${nextBtnText}</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t} else {\r\n\t\treturn `\r\n\t\t\t<div class=\"quiz-form__question form-question\">\r\n\t\t\t\t<h2 class=\"form-question__title\">${title}</h2>\r\n\t\t\t\t${answers.join('')}\r\n\t\t\t\t<div class=\"form-question__bottom\">\r\n\t\t\t\t\t<div class=\"quiz-form__questions\">${number} из ${dataLength}</div>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn-reset form-question__btn btn\" data-prev-btn>${prevBtnText}</button>\r\n\t\t\t\t\t<button type=\"button\" class=\"btn-reset form-question__btn btn\" data-send-btn>Далее</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t\t//<div class=\"quiz__questions\"></div> - Здесь указывается какой вопрос из скольки\r\n\t\t//${number} = ${data.number} благодаря const {number, title} = data;\r\n\t\t//type=\"button\" потому что находимся в форме и отправлять пока ничего не нужно, а по умолчанию тип submit\r\n\t\t//data-next-btn для того, чтобы понять, что кнопка \"далее\", используется в методе events()\r\n\t\t//answers.join('') - .join('') убирает запятые\r\n};\r\n\r\n\r\n// const quiz = document.querySelector(\".quiz\");\r\n// quiz.innerHTML = quizTemplate(quizData[0], quizData.length);\r\n\r\nclass Quiz {\r\n\tconstructor(selector, data, options) {//Указываем что будет приходить при вызове\r\n\t\tthis.$el = document.querySelector(selector);//находим .quiz\r\n\t\tthis.options = options;\r\n\t\tthis.data = data;\r\n\t\tthis.counter = 0;// quizData[0] вместо 0 - counter\r\n\t\tthis.dataLength = this.data.length;\r\n\t\tthis.resultArray = [];\r\n\t\tthis.tmp = {};//Объект для временного хранения данных\r\n\t\tthis.init();//функция, которая будет показывать квиз\r\n\t\tthis.events();//\r\n\t}\r\n\r\n\tinit() {\r\n\t\tconsole.log(\"init!\");\r\n\t\tthis.$el.innerHTML = quizTemplate(quizData[this.counter], this.dataLength, this.options);\r\n\t\tthis.$el.querySelector('[data-prev-btn]').style.display = 'none';\r\n\t}\r\n\r\n\tevents() {\r\n\t\tthis.$el.addEventListener('click', (e) => {\r\n\t\t\tif (e.target == this.$el.querySelector('[data-prev-btn]')) {\r\n\t\t\t\tthis.removeToSend()\r\n\t\t\t\tthis.prevQuestion();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.$el.addEventListener('click', (e) => {\r\n\t\t\tif (e.target == this.$el.querySelector('[data-next-btn]')) {\r\n\t\t\t\tif (this.valid()) {\r\n\t\t\t\t\tthis.addToSend();//записываем данные перед переходом к следующему вопросу\r\n\t\t\t\t\tthis.nextQuestion();\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\r\n\t\t\tif (e.target == document.querySelector('[data-send-btn]')) {\r\n\t\t\t\tif (this.valid()) {\r\n\t\t\t\t\tthis.addToSend();\r\n\t\t\t\t\tthis.send();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.$el.addEventListener('input', (e) => {\r\n\t\t\tif (e.target.tagName == 'INPUT') { //Если change выполняется у <input>\r\n\t\t\t\tif (e.target.type !== 'checkbox' && e.target.type !== 'radio') {\r\n\t\t\t\t\tlet elements = this.$el.querySelectorAll('input');//находим все <input>\r\n\r\n\t\t\t\t\telements.forEach(el => {//проходим по всем инпутам и удаляем класс error\r\n\t\t\t\t\t\tif (el.type !== \"text\") {\r\n\t\t\t\t\t\t\tlet sibling = el.nextElementSibling;\r\n\t\t\t\t\t\t\tsibling.classList.remove('error');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tel.classList.remove('error');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\telements.forEach(el => el.checked = false);//проходим по всем инпутам и сбрасываем checked\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// this.tmp = this.serialize(this.$el);//в tmp помещаются данные при помощи функции serialize\r\n\t\t\t// console.log(this.tmp);\r\n\t\t});\r\n\r\n\t\tthis.$el.addEventListener('change', (e) => {\r\n\t\t\tif (e.target.type == 'checkbox' || e.target.type == 'radio') {\r\n\t\t\t\tlet elements = this.$el.querySelectorAll('input');//находим все <input>\r\n\t\t\t\t\r\n\t\t\t\telements.forEach(el => {//проходим по всем инпутам и удаляем класс error\r\n\t\t\t\t\tif (el.type !== \"text\") {\r\n\t\t\t\t\t\tlet sibling = el.nextElementSibling;\r\n\t\t\t\t\t\tsibling.classList.remove('error');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tel.classList.remove('error');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tlet element = elements[i];\r\n\t\t\t\t\tif (element.type == 'text') {\r\n\t\t\t\t\t\telement.value = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.tmp = this.serialize(this.$el);//в tmp помещаются данные при помощи функции serialize\r\n\t\t\tconsole.log(this.tmp);\r\n\t\t});\t\r\n\t}\r\n\r\n\tprevQuestion() {\r\n\t\tconsole.log(\"prev question!\");\r\n\t\tthis.counter--;\r\n\t\tthis.$el.innerHTML = quizTemplate(quizData[this.counter], this.dataLength, this.options);\r\n\t\tlet quizOffset = document.querySelector('.quiz').offsetTop - 64;//вычитаю высоту хедера\r\n\t\twindow.scroll(0, quizOffset);\r\n\r\n\t\tif (this.counter == 0) {\r\n\t\t\tthis.$el.querySelector('[data-prev-btn]').style.display = 'none';\r\n\t\t}\r\n\t}\r\n\r\n\tnextQuestion() {\r\n\t\tconsole.log(\"next question!\");\r\n\t\tif (this.counter !== 0) {\r\n\t\t\tthis.$el.querySelector('[data-prev-btn]').style.display = 'inline-block';\r\n\t\t}\r\n\r\n\t\tif (this.counter < this.dataLength) {\r\n\t\t\tthis.counter++;\r\n\t\t\tthis.$el.innerHTML = quizTemplate(quizData[this.counter], this.dataLength, this.options);\r\n\t\t\tlet quizOffset = document.querySelector('.quiz').offsetTop - 64;//вычитаю высоту хедера\r\n\t\t\twindow.scroll(0, quizOffset);\r\n\t\t}\r\n\t}\r\n\r\n\tvalid() {//Валидация\r\n\t\tlet isValid = false;//Переменная возвращается из данной функции; по умолчанию - false\r\n\t\tlet elements = this.$el.querySelectorAll('input');//находим все <input>\r\n\t\telements.forEach(el => {//Проходим по всем элементам\r\n\t\t\tlet sibling = el.nextElementSibling;\r\n\t\t\tswitch(el.type) {\r\n\t\t\t\tcase 'text': //Если input текстовый и мы что-то ввели - isValid = true, если нет - элементу присваиваем класс error\r\n\t\t\t\t(el.value) ? isValid = true : el.classList.add('error');\r\n\t\t\t\tcase 'checkbox':\r\n\t\t\t\t(el.checked) ? isValid = true : sibling.classList.add('error');\r\n\t\t\t\tcase 'radio':\r\n\t\t\t\t(el.checked) ? isValid = true : sibling.classList.add('error');\r\n\t\t\t}\r\n\t\t});\r\n\t\tlet textarea = this.$el.querySelector('.form-question__textarea');\r\n\t\tif (textarea) {\r\n\t\t\tisValid = true;\r\n\t\t\tif (textarea.value === '') {\r\n\t\t\t\tthis.tmp = '';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn isValid;\r\n\t}\r\n\r\n\tremoveToSend() {\r\n\t\tvar removeElement = this.resultArray.pop();\r\n\t\tconsole.log(\"Удаленный элемент: %o\", removeElement);\r\n\t}\r\n\r\n\taddToSend() {//Подготовка к отправке\r\n\t\tthis.resultArray.push(this.tmp);//добавляем объекты из tmp в resultArray\r\n\t}\r\n\r\n\tsend() {\r\n\t\tconsole.log('send!');\r\n\t\tconsole.log(this.resultArray);\r\n\r\n\t\t// let elements = this.$el.querySelectorAll('input');//находим все <input>\r\n\t\t// elements.forEach(el => {//проходим по всем инпутам и удаляем класс error\r\n\t\t// \tif (el.type !== \"text\") {\r\n\t\t// \t\tlet sibling = el.nextElementSibling;\r\n\t\t// \t\tsibling.classList.remove('error');\r\n\t\t// \t} else {\r\n\t\t// \t\tel.classList.remove('error');\r\n\t\t// \t}\r\n\t\t// });\r\n\r\n\t\tdocument.querySelector('.quiz__title').textContent = 'Ваша подборка готова!';\r\n\t\tdocument.querySelector('.quiz__descr').textContent = 'Оставьте свои контактные данные, чтобы бы мы могли отправить  подготовленный для вас каталог';\r\n\t\tthis.$el.style.display = 'none';\r\n\t\tdocument.querySelector('.quiz-form').innerHTML = \r\n\t\t`\r\n\t\t\t<div class=\"quiz-form__collection collection-quiz\">\r\n\t\t\t\t<h3 class=\"collection-quiz__title _title\">Получить предложение</h3>\r\n\t\t\t\t<p class=\"collection-quiz__descr\">Получите подборку подходящих для вас моделей на почту</p>\r\n\t\t\t\t<input required name=\"name\" type=\"text\" placeholder=\"Ваше имя\" class=\"collection-quiz__input\" data-name-input>\r\n\t\t\t\t<input required name=\"email\" type=\"email\" placeholder=\"E-mail\" class=\"collection-quiz__input\" data-email-input>\r\n\t\t\t\t<button type=\"button\" class=\"btn-reset collection-quiz__btn btn\">Получить</button>\r\n\t\t\t\t<div class=\"collection-quiz__img\">\r\n\t\t\t\t\t<img src=\"../img/iphone.png\" alt=\"\">\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`\r\n\t\r\n\t\tdocument.querySelector('.collection-quiz__btn').addEventListener('click', (e) => {\r\n\t\t\tlet name = document.querySelector('[data-name-input]');\r\n\t\t\tlet email = document.querySelector('[data-email-input]');\r\n\t\t\tconst data = {\r\n    \t\t\tName: name.value,\r\n    \t\t\t\"E-mail\": email.value\r\n    \t\t};\r\n\r\n    \t\t//Попробовал объект data поделить на 2 объекта и записать объекты в resultArray\r\n    \t\tlet newData = Object.entries(data);\r\n\r\n    \t\tnewData.map(arr => {\r\n    \t\t\tlet obj = arr.reduce((newObj, item, index) => {\r\n    \t\t\t\tif (index === 0) {\r\n    \t\t\t\t\tnewObj[item] = arr[index + 1];\r\n    \t\t\t\t}\r\n\t\t\t\t  \treturn newObj;\r\n\t\t\t\t}, {});\r\n\t\t\t\tthis.resultArray.push(obj);\r\n    \t\t});\r\n    \t\r\n    \t\tconsole.log(this.resultArray)\r\n\r\n\r\n    \t\tconst formData = new FormData();//Создаем переменную formData в которую вызовем новый экземпляр объекта FormData\r\n\r\n\t\t\t//Проходимся по resultArray, получаем каждый элемент этого массива\r\n\t\t\tfor(let item of this.resultArray) { \r\n\t\t\t\tfor (let obj in item) {\r\n\t\t\t\t\tformData.append(obj, item[obj].substring(0, item[obj].length - 1))//https://developer.mozilla.org/ru/docs/Web/API/FormData/append#возвращает\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t// const response = fetch('mail.php', {\r\n\t\t\t// \tmethod: 'POST',\r\n\t\t\t// \tbody: formData\r\n\t\t\t// });\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tserialize(element) { //Помещает все данные c инпутов в один объект\r\n\t\tlet form = element.parentElement;//находим форму\r\n\t\tlet field, s = {};\r\n\t\tlet valueString = '';\r\n\t\tif (typeof form == 'object' && form.nodeName == \"FORM\") {\r\n\t\t\tlet len = form.elements.length;\r\n\t\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\t\tfield = form.elements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (field.name && !field.disabled && field.type != 'file' && field.type != 'reset' && field.type != 'submit' && field.type != 'button') {\r\n\t\t\t\t\tif (field.type == 'select-multiple') {\r\n\t\t\t\t\t\tfor (j = form.elements[i].options.length - 1; j >= 0; j--) {\r\n\t\t\t\t\t\t\tif (field.options[j].selected)\r\n\t\t\t\t\t\t\t\ts[s.length] = encodeURIComponent(field.name) + \"=\" + encodeURIComponent(field.options[j].value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if ((field.type != 'checkbox' && field.type != 'radio' && field.value) || field.checked) {\r\n\t\t\t\t\t\t// valueString += field.value + ',';\r\n\t\t\t\t\t\tvalueString += field.value + ' '\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ts[field.name] = valueString;\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn s\r\n\t}\r\n}\r\n\r\nwindow.quiz = new Quiz('.quiz-form .quiz-form__content', quizData, {\r\n\tprevBtnText: \"Назад\",\r\n\tnextBtnText: \"Следующий шаг\",\r\n});\r\n\r\n","const catalog = document.querySelector('.catalog');\r\nconst about = document.querySelector('.about');\r\nconst quiz = document.querySelector('.quiz');\r\nconst team = document.querySelector('.team');\r\nconst faq = document.querySelector('.faq');\r\nconst contacts = document.querySelector('.contacts');\r\n\r\nfunction scrollToTargetAdjusted(element) {\r\n\tlet modalActive = document.querySelector('.modal.is-open');\r\n\r\n   var headerOffset = 64;//высота хедера\r\n   var elementPosition = element.getBoundingClientRect().top;\r\n   var offsetPosition = elementPosition + window.pageYOffset - headerOffset;\r\n\r\n   if (modalActive) {//закрываю модалку если открыта\r\n\t\tlet modalActiveContainer = modalActive.querySelector('.modal__container.open-animate');\r\n\r\n\t\tif (modalActiveContainer.classList.contains('product-modal')) {\r\n\t\t\tmodalActiveContainer.className = 'modal__container product-modal';\r\n\t\t} else {\r\n\t\t\tif (modalActiveContainer.classList.contains('cart-modal')) {\r\n\t\t\t\tmodalActiveContainer.className = 'modal__container cart-modal';\r\n\t\t\t\tdocument.querySelector('.header__cart').classList.remove('_hidden');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmodalActive.className = 'modal';\r\n\t\tmodal.isOpen = false;//modal.js\r\n\t\tdocument.body.style.paddingRight = null;\r\n\t}\r\n \t\r\n \tif (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\r\n \t\twindow.scrollTo({\r\n     \t\ttop: offsetPosition,\r\n      \tbehavior: \"auto\"\r\n   \t});\r\n \t} \telse {\r\n \t\t\twindow.scrollTo({\r\n     \t\t\ttop: offsetPosition,\r\n      \t\tbehavior: \"smooth\"\r\n   \t\t});\r\n \t\t}\r\n}\r\n\r\ndocument.addEventListener('click', (e) => {\r\n\r\n\tif (e.target.hasAttribute('data-catalog')) {\r\n\t\te.preventDefault();\r\n\t\tscrollToTargetAdjusted(catalog);\r\n\t}\r\n\r\n\tif (e.target.hasAttribute('data-about')) {\r\n\t\te.preventDefault();\r\n\t\tscrollToTargetAdjusted(about);\r\n\t}\r\n\r\n\tif (e.target.hasAttribute('data-quiz')) {\r\n\t\te.preventDefault();\r\n\t\tscrollToTargetAdjusted(quiz);\r\n\t}\r\n\r\n\tif (e.target.hasAttribute('data-team')) {\r\n\t\te.preventDefault();\r\n\t\tscrollToTargetAdjusted(team);\r\n\t}\r\n\r\n\tif (e.target.hasAttribute('data-faq')) {\r\n\t\te.preventDefault();\r\n\t\tscrollToTargetAdjusted(faq);\r\n\t}\r\n\r\n\tif (e.target.hasAttribute('data-contacts')) {\r\n\t\te.preventDefault();\r\n\t\tscrollToTargetAdjusted(contacts);\r\n\t}\r\n});","let tooltip = document.querySelector('.tooltip');\r\n\r\nif (tooltip) {\r\n\tdocument.addEventListener('click', (e) => {\r\n\t\tlet target = e.target;\r\n\t\tif (target.closest('.tooltip') && !target.closest('._tooltip-open')) {\r\n\t\t\ttooltip.classList.add('_tooltip-open');\r\n\t\t}\r\n\r\n\t\telse if ((!target.closest('.tooltip__text') && target.closest('._tooltip-open')) || !target.closest('._tooltip-open')) {\r\n\t\t\ttooltip.classList.remove('_tooltip-open');\r\n\t\t}\r\n\t});\r\n}",null]}